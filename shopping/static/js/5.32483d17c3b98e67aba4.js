webpackJsonp([5],{QrVH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),o=n("exGp"),s=n.n(o),i=n("Dd8w"),c=n.n(i),u=n("NYxO"),l=n("MfVK"),d=n("i84Q"),p=n("uaSg"),v={name:"login",data:function(){return{phoneNumber:null,passWord:null,vcode:null,vcodeUrl:"http://192.168.2.160:8081/yktstore/index.php/passport-gen_vcode.html#1525248691620",timer:null,duration:2e3,isWeiXin:!1,maxLength:4}},created:function(){var e=navigator.userAgent.toLowerCase();this.isWeiXin=!!/micromessenger/.test(e),this.isWeiXin&&(window.location.href=p.b)},computed:Object(u.c)({isLogin:function(e){return e.isLogin},userInfo:function(e){return e.userInfo}}),methods:c()({},Object(u.b)([]),{doLogin:function(){var e=this;return s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.phoneNumber){t.next=3;break}return Object(l.Toast)({duration:e.duration,message:"请先输入手机号",icon:"warn"}),t.abrupt("return",!1);case 3:if(e.passWord){t.next=6;break}return Object(l.Toast)({duration:e.duration,message:"请先输入密码",icon:"warn"}),t.abrupt("return",!1);case 6:if(e.vcode){t.next=9;break}return Object(l.Toast)({duration:e.duration,message:"请先输入验证码",icon:"warn"}),t.abrupt("return",!1);case 9:return t.next=11,Object(d.f)({phoneNumber:e.phoneNumber,passWord:e.passWord,vcode:e.vcode});case 11:if("0000"===(n=t.sent).return_code){t.next=15;break}return Object(l.Toast)({duration:e.duration,message:n.return_msg,icon:"warn"}),t.abrupt("return",!1);case 15:Object(l.Toast)({duration:e.duration,message:"登录成功",icon:"success"}),e.timer=setInterval(function(){clearInterval(e.timer),e.$router.push("/home")},e.duration);case 17:case"end":return t.stop()}},t,e)}))()}})},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("wv-header",{attrs:{title:"登录",fixed:!1,"background-color":"#1aad19"}},[n("div",{staticClass:"login-back",attrs:{slot:"left"},on:{click:function(t){e.$router.go(-1)}},slot:"left"},[n("icon",{attrs:{name:"chevron-left",scale:"1"}})],1)]),e._v(" "),n("wv-group",{staticClass:"login-form"},[n("wv-input",{attrs:{label:"手机号",type:"number",placeholder:"请输入手机号",required:"",pattern:"^1[0-9]{10}$","validate-mode":{onFocus:!1}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),n("wv-input",{attrs:{type:"password",label:"密码",placeholder:"请输入内容",required:""},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}}),e._v(" "),n("wv-input",{staticClass:"weui-cell_vcode",attrs:{label:"验证码",maxlength:e.maxLength,placeholder:"请输入验证码"},model:{value:e.vcode,callback:function(t){e.vcode=t},expression:"vcode"}},[n("img",{staticClass:"vcode",attrs:{slot:"ft",src:e.vcodeUrl},slot:"ft"})])],1),e._v(" "),n("div",{staticClass:"login-btns"},[n("wv-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.doLogin(t)}}},[e._v("登录")]),e._v(" "),n("wv-button",{staticClass:"register-btn",attrs:{type:"default"},on:{click:function(t){e.$router.push("/register")}}},[e._v("立即注册")])],1)],1)},staticRenderFns:[]};var f=n("VU/8")(v,b,!1,function(e){n("pDGh")},"data-v-3378d121",null);t.default=f.exports},pDGh:function(e,t){}});
//# sourceMappingURL=5.32483d17c3b98e67aba4.js.map